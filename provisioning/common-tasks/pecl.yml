---
##
# Install pecl extensions
# apc, xdebug, xhprof
#

- name: APC | Install via pecl
  shell: printf "\n" | sudo pecl install apc creates=/etc/php5/conf.d/apc.ini
  tags: common

- name: APC | Cache configuration file, apc.ini
  template: src=templates/etc-php5-conf-d-apc-ini.j2 dest=/etc/php5/conf.d/apc.ini
  tags: common
  notify:
  - Restart apache

- name: xdebug | Install via pecl
  shell: pecl install xdebug creates=/etc/php5/conf.d/xdebug.ini

- name: xdebug | Debugging configuration file, xdebug.ini
  template: src=templates/etc-php5-conf-d-xdebug-ini.j2 dest=/etc/php5/conf.d/xdebug.ini
  tags: debug
  notify:
  - Restart apache

- name: xhprof | Install via pecl
  shell: pecl install -f xhprof creates=/etc/php5/conf.d/xhprof.ini
  tags: debug

- name: xhprof | Debugging configuration file, xhprof.ini
  template: src=templates/etc-php5-conf-d-xhprof-ini.j2 dest=/etc/php5/conf.d/xhprof.ini
  tags: debug
  notify:
  - Restart apache
